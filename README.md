# Flights Test Project

üóé [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API](172.104.135.190:8899/static/docs/index.html) 

–í –∑–∞–¥–∞—á–µ –µ—Å—Ç—å —Ä–∞—Å–ø–ª—ã–≤—á–∞—Ç—ã–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏, –Ω–æ –ø–æ—Å–∫–æ–ª—å–∫—É –≤ –∑–∞–¥–∞–Ω–∏–∏ –æ–±–æ–∑–Ω–∞—á–µ–Ω–æ ¬´—É–º–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–¥–∞—á—É –∏–º–µ—è –Ω–µ–ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ –Ω–µ–π¬ª, —è –Ω–µ —Å—Ç–∞–ª –ø–æ–¥—Ä–æ–±–Ω–æ —É—Ç–æ—á–Ω—è—Ç—å, —á—Ç–æ —Ç–∞–∫–æ–µ ¬´–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç¬ª –∏ ¬´–æ—Ç–ª–∏—á–∏—è –º–µ–∂–¥—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –¥–≤—É—Ö –∑–∞–ø—Ä–æ—Å–æ–≤¬ª.

–£—á–∏—Ç—ã–≤–∞—è —ç—Ç–æ, –∞ —Ç–∞–∫ –∂–µ —Ç–æ—Ç —Ñ–∞–∫—Ç, —á—Ç–æ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ —Å–æ–¥–µ—Ä–∂–∞—Ç—Å—è –º–∞—Ä—à—Ä—É—Ç—ã –≤ –æ–¥–Ω—É —Å—Ç–æ—Ä–æ–Ω—É, –∞ –≤ –¥—Ä—É–≥–æ–º - –≤ –æ–±–µ, –ø–æ–ª—É—á–∏–≤—à–∏–µ—Å—è –º–µ—Ç–æ–¥—ã –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –º–æ–≥—É—Ç –∏–º–µ—Ç—å —Å–æ–º–Ω–∏—Ç–µ–ª—å–Ω—É—é –ø–æ–ª–µ–∑–Ω–æ—Å—Ç—å –≤ —Ä–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏. 
–ù–∞–¥–µ—é—Å—å, —á—Ç–æ –æ–Ω–∏ —Ö–æ—Ç—è –±—ã —Å–º–æ–≥—É—Ç –ø–æ–∫–∞–∑–∞—Ç—å –º–æ–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∫ –Ω–∞–ø–∏—Å–∞–Ω–∏—é –∫–æ–¥–∞.

–¢–∞–∫–∂–µ –Ω–∞–¥–µ—é—Å—å, —á—Ç–æ –≤ —Ä–µ–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ –∑–∞–¥–∞—á–∏ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–µ–µ, –ª–∏–±–æ –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–∑–Ω–∞—Ç—å —É –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è API, —á—Ç–æ –∂–µ, –≤—Å—ë-—Ç–∞–∫–∏, —Ç–æ—Ç —Ö–æ—á–µ—Ç –ø–æ–ª—É—á–∏—Ç—å :)   

–û–ø—Ç–∏–º–∞–ª—å–Ω–æ—Å—Ç—å –º–∞—Ä—à—Ä—É—Ç–∞ —è —Ä–∞—Å—á–∏—Ç—ã–≤–∞—é –ø–æ —Ñ–æ—Ä–º—É–ª–µ: 
```
((–¶–µ–Ω–∞ –±–∏–ª–µ—Ç–∞) / (–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ —Å—Ä–µ–¥–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)) * ((–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–ª—ë—Ç–æ–≤) / (–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å—Ä–µ–¥–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤))
``` 

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –∏–¥–µ–∞–ª—å–Ω—ã–π –±–∏–ª–µ—Ç –±—É–¥–µ—Ç –∏–º–µ—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ—Å—Ç—å = 1, –∞ —á–µ–º –æ–Ω–∞ –±–æ–ª—å—à–µ, —Ç–µ–º —Ö—É–∂–µ.  

## –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### –ü–æ–∏—Å–∫ –±–∏–ª–µ—Ç–∞
–°–∞–º—ã–π –¥–µ—à—ë–≤—ã–π –≤ –æ–¥–Ω—É —Å—Ç–æ—Ä–æ–Ω—É
```
http://172.104.135.190:8899/api/fares/itineraries/?source=dxb&destination=bkk&ordering=price&two_way=false&limit=1
```

–°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π –≤ –æ–¥–Ω—É —Å—Ç–æ—Ä–æ–Ω—É
```
http://172.104.135.190:8899/api/fares/itineraries/?source=dxb&destination=bkk&ordering=duration&two_way=false&limit=1
```

–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Ç—É–¥–∞-–æ–±—Ä–∞—Ç–Ω–æ –¥–ª—è 2 –≤–∑—Ä–æ—Å–ª—ã—Ö –∏ 1 —Ä–µ–±—ë–Ω–∫–∞
```
http://172.104.135.190:8899/api/fares/itineraries/?source=dxb&destination=bkk&ordering=optimal_score&two_way=true&adult=2&child=1&limit=1
```


### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ

```
http://172.104.135.190:8899/api/fares/diff/?left_request_id=1&right_request_id=2&limit=10
http://172.104.135.190:8899/api/fares/compare/?left_request_id=1&right_request_id=2
```

## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞


```
cp ./.env.example ./.env
cp ./.env.db.example ./.env.db
docker-compose up -d --build
docker-compose exec web python3 /app/manage.py migrate
docker-compose exec web python3 /app/manage.py sorcery upgrade
docker-compose exec web python3 /app/manage.py import_reference_data /app-data
docker-compose exec web python3 /app/manage.py import_sample_data /app-data
```
